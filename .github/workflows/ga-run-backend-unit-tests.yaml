name: Run Backend Unit Tests
on: [push, pull_request]
jobs:
  Run-Unit-Tests:
    runs-on: ubuntu-latest
    steps:
      - run: echo "Job triggered by a ${{ github.event_name }} event"
      - name: Check out repository code
        uses: actions/checkout@v3
      - name: Run Django unit tests
        env:
          SOUNDSEEKER_SERVER_SECRET_KEY: ${{ secrets.SOUNDSEEKER_SERVER_SECRET_KEY }}
          DJANGO_SETTINGS_MODULE: ${{ secrets.DJANGO_SETTINGS_MODULE }}
        run: |
          pip3 install --user -r backend/requirements.txt
          python3 backend/manage.py test
